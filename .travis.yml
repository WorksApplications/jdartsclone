language: java
jdk: oraclejdk8
sudo: false
before_install:
  - if [ -n "$encrypted_7726a8800684_key" ]; then openssl aes-256-cbc -K $encrypted_7726a8800684_key -iv $encrypted_7726a8800684_iv -in .travis/settings.xml.enc -out .travis/settings.xml -d; fi
  - if [ -n "$encrypted_7726a8800684_key" ]; then openssl aes-256-cbc -K $encrypted_7726a8800684_key -iv $encrypted_7726a8800684_iv -in .travis/codesigning.asc.enc -out .travis/codesigning.asc -d; fi
dd:
  - if [ -f .travis/signingkey.asc ]; then gpg --fast-import .travis/signingkey.asc; fi
install: true
script:
  - mvn clean test -B
deploy:
  - provider: script
    script: mvn clean deploy -P release -B --settings .travis/settings.xml
    skip_cleanup: true
    on:
      branch: develop
